<%@ template version="1.0" %>
SELECT USERNAME, COALESCE( TABLES.COUNT, 0 ) TABLES, COALESCE( VIEWS.COUNT, 0 ) VIEWS
FROM ALL_USERS
LEFT OUTER JOIN (
		SELECT OWNER, COUNT(*) COUNT
		FROM ALL_TABLES
		GROUP BY OWNER
	) TABLES
	ON TABLES.OWNER = ALL_USERS.USERNAME
LEFT OUTER JOIN (
		SELECT OWNER, COUNT(*) COUNT
		FROM ALL_VIEWS
		GROUP BY OWNER
	) VIEWS
	ON VIEWS.OWNER = ALL_USERS.USERNAME
ORDER BY ALL_USERS.USERNAME
