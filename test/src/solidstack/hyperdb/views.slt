<%@ template version="1.0" language="groovy" contentType="text/html; charset=UTF-8" %>
<%@ template import="solidstack.hyperdb.*" %>
<%
include( template: "/template", title: "Views", body: {
	def databaseName = request.getParameter( "database" )
	def user = request.getParameter( "user" )
	def schema = request.getParameter( "schema" )
	def connections = session.getAttribute( "connections" )
	def connectionHolder = connections.getConnection( databaseName, user )
	def connection = connectionHolder.connection
	def database = connectionHolder.database
	def views = database.getViews( connection, schema )
%>
		<table id="views">
			<tr><th>Schema</th><th>View</th></tr>
<%		for( View view : views ) { %>
			<tr><td>${view.schema}</td><td><a href="../${view.schema}/tables/${view.name}">${view.name}</a></td></tr>
<%		} %>
		</table>
<% } ) %>
